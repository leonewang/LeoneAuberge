---
title: Web Design with JavaScript and the DOM
tags:
  - HTML5
  - JavaScript
categories:
  - Summarize
date: 2015-07-26 21:32:27
updated: 2015-07-26 21:32:27
---
## 最佳实践

### 不要怪罪 JavaScript

HTML 之所以会呈现爆炸性的增长，HTML 语言易学易用的特点就是其中不可否认的一个原因。很多人花很少的时间就可以掌握 HTML 语言的基本知识，并快速做出各种各样的网页。事实上，也许很多没有写过代码的人们在‘可视化’网页制作工具的帮助下成为了网页设计大军中的一员。

因此产生的不良后果就是，许多网页的编写很糟糕，甚至没有做标记合法性检查，忽略规范，所以浏览器不得不以较为宽松的方式去处理网页。这也使得 CSS，JavaScript 等新技术在 Web 上推广收到了很大的阻力。

<!-- more -->

与 HTML 语言相比，Javascript 语言的生存环境要严苛的多，如果 JavaScript 代码不符合语法规范，浏览器将无法执行，而在碰到不符合语法规范的 HTML 代码时，浏览器却又千方百计的把它呈现出来。尽管如此，网络上依旧充斥着许多质量低下的 JavaScript 代码。

许多网页设计者并不舍得花大量的时间来学习 JavaScript，而是把一些现成的代码直接复制到文档中，这依旧得益于‘可视化’的网页设计工具。其实这些现成的 JavaScript 代码里有许多问题考虑的并不周全，从表面上看，似乎这些代码确实帮助我们完成了一些新颖动人的交互效果，但是，他们却很少有能够在禁用 JavaScript 的情况下对网页的行为作出正确地响应。一旦 JavaScript 被禁用，那些质量低劣的代码将在浏览器中得不到很好的解释，甚至完全没法使用。这就让许多人认为 **JavaScript=网页** 无法访问。

### 平稳退化

> 也许你会说，禁用 JavaScript 的用户已经是少数了，何必耗费大量的时间来优化这些代码呢？

先说内在因素，请想象一下，有个访问者来到了你的网站，他在浏览 Web 的同时禁用了 JavaScript 和图片，我敢肯定这样的用户现在已近非常少见，但是，这个用户却非常重要，因为他是 ------ **Searchbot**（搜索机器人）。其次外在因素，现在的网页的用户体验越来越受到人们的关注，那些不遵循‘用户至上’原则的网站从长远来看都是自取灭亡，况且`不追求完美的程序员不是好程序员`，你说呢？

如果正确的使用了 JavaScript 脚本，就可以让访问者在禁用了 JavaScript 的情况下仍能继续顺利的浏览你的网站，这就是 **平稳退化** ，就是虽然某些功能无法使用，但最基本的操作仍能顺利完成。

* 分离 javascript
* 向后兼容（与现代并无必要，大多浏览器足够健壮）
* 性能考虑
  1.  尽量减少标记和访问 DOM
  2.  脚本合并
  3.  脚本压缩（工具）
    A. Douglas Crockford 的 JSMin
    B. Yahoo 的 YUI Compressor
      C. Google 的 Closure Compiler


*学习并参考自《DOM Scripting Web Design with JavaScript and the Document Object Model》*
