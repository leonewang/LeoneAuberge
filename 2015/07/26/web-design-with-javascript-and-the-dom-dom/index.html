<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Web Design with JavaScript and the DOM - DOM 编程艺术 · Leone Auberge</title><meta name="description" content="## 最佳实践

不要怪罪 JavaScript[1]HTML 之所以会呈现爆炸性的增长，HTML 语言易学易用的特点就是其中不可否认的一个原因。很多人花"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="http://fonts.useso.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">博客</a></li><li class="nav-list-item"><a href="/archives" target="_self" class="nav-list-link">归档</a></li><li class="nav-list-item"><a target="_self" class="nav-list-link">标签</a></li><li class="nav-list-item"><a target="_self" class="nav-list-link">分享</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li><li class="nav-list-item"><a href="https://github.com/leonewang" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/sitemap.xml" target="_self" class="nav-list-link">SITEMAP</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">Web Design with JavaScript and the DOM - DOM 编程艺术</h1><div class="post-meta"><div class="post-time">2015年7月26日</div></div><div class="post-content"><div id="preview-column" class="pull-right"><br><div id="wmd-panel-preview" class="wmd-panel-preview preview-container"><br><div id="wmd-preview" class="wmd-preview" data-medium-element="true"><br><div id="wmd-preview-section-6" class="wmd-preview-section preview-content"><br><br>## 最佳实践<br><br><div class="md-section-divider"></div>

<h3 id="u4E0D_u8981_u602A_u7F6A_JavaScript_5B1_5D"><a href="#u4E0D_u8981_u602A_u7F6A_JavaScript_5B1_5D" class="headerlink" title="不要怪罪 JavaScript[1]"></a>不要怪罪 JavaScript<a href="/#book" title="查看注脚">[1]</a></h3><p>HTML 之所以会呈现爆炸性的增长，HTML 语言易学易用的特点就是其中不可否认的一个原因。很多人花很少的时间就可以掌握 HTML 语言的基本知识，并快速做出各种各样的网页。事实上，也许很多没有写过代码的人们在‘可视化’网页制作工具的帮助下成为了网页设计大军中的一员。</p>
<p>因此产生的不良后果就是，许多网页的编写很糟糕，甚至没有做标记合法性检查，忽略规范，所以浏览器不得不以较为宽松的方式去处理网页。这也使得 CSS，JavaScript 等新技术在 Web 上推广收到了很大的阻力。</p>
<p>与 HTML 语言相比，Javascript 语言的生存环境要严苛的多，如果 JavaScript 代码不符合语法规范，浏览器将无法执行，而在碰到不符合语法规范的 HTML 代码时，浏览器却又千方百计的把它呈现出来。尽管如此，网络上依旧充斥着许多质量低下的 JavaScript 代码。</p>
<p>许多网页设计者并不舍得花大量的时间来学习 JavaScript，而是把一些现成的代码直接复制到文档中，这依旧得益于‘可视化’的网页设计工具。其实这些现成的 JavaScript 代码里有许多问题考虑的并不周全，从表面上看，似乎这些代码确实帮助我们完成了一些新颖动人的交互效果，但是，他们却很少有能够在禁用 JavaScript 的情况下对网页的行为作出正确地响应。一旦 JavaScript 被禁用，那些质量低劣的代码将在浏览器中得不到很好的解释，甚至完全没法使用。这就让许多人认为 <span id="MathJax-Element-7-Frame" class="MathJax"><span id="MathJax-Span-187" class="math"><span id="MathJax-Span-188" class="mrow"><span id="MathJax-Span-189" class="mi">J</span><span id="MathJax-Span-190" class="mi">a</span><span id="MathJax-Span-191" class="mi">v</span><span id="MathJax-Span-192" class="mi">a</span><span id="MathJax-Span-193" class="mi">S</span><span id="MathJax-Span-194" class="mi">c</span><span id="MathJax-Span-195" class="mi">r</span><span id="MathJax-Span-196" class="mi">i</span><span id="MathJax-Span-197" class="mi">p</span><span id="MathJax-Span-198" class="mi">t</span><span id="MathJax-Span-199" class="mo">=</span><span id="MathJax-Span-200" class="texatom"><span id="MathJax-Span-201" class="mrow"><span id="MathJax-Span-202" class="mo">网</span></span></span><span id="MathJax-Span-203" class="texatom"><span id="MathJax-Span-204" class="mrow"><span id="MathJax-Span-205" class="mo">页</span></span></span><span id="MathJax-Span-206" class="texatom"><span id="MathJax-Span-207" class="mrow"><span id="MathJax-Span-208" class="mo">无</span></span></span><span id="MathJax-Span-209" class="texatom"><span id="MathJax-Span-210" class="mrow"><span id="MathJax-Span-211" class="mo">法</span></span></span><span id="MathJax-Span-212" class="texatom"><span id="MathJax-Span-213" class="mrow"><span id="MathJax-Span-214" class="mo">访</span></span></span><span id="MathJax-Span-215" class="texatom"><span id="MathJax-Span-216" class="mrow"><span id="MathJax-Span-217" class="mo">问</span></span></span></span></span></span>。</p>
<div class="md-section-divider"></div>

<h3 id="u5E73_u7A33_u9000_u5316"><a href="#u5E73_u7A33_u9000_u5316" class="headerlink" title="平稳退化"></a>平稳退化</h3><blockquote>
<p>也许你会说，禁用 JavaScript 的用户已经是少数了，何必耗费大量的时间来优化这些代码呢？</p>
</blockquote>
<p>先说内在因素，请想象一下，有个访问者来到了你的网站，他在浏览 Web 的同时禁用了 JavaScript 和图片，我敢肯定这样的用户现在已近非常少见，但是，这个用户却非常重要，因为他是 —— <strong>Searchbot</strong>（搜索机器人）。其次外在因素，现在的网页的用户体验越来越受到人们的关注，那些不遵循‘用户至上’原则的网站从长远来看都是自取灭亡，况且<code>不追求完美的程序员不是好程序员</code>，你说呢？</p>
<p>如果正确的使用了 JavaScript 脚本，就可以让访问者在禁用了 JavaScript 的情况下仍能继续顺利的浏览你的网站，这就是 <strong>平稳退化</strong> ，就是虽然某些功能无法使用，但最基本的操作仍能顺利完成。</p>
<ul>
<li>分离 javascript</li>
<li>向后兼容（与现代并无必要，大多浏览器足够健壮）</li>
<li><p>性能考虑</p>
<ol>
<li>尽量减少标记和访问 DOM</li>
<li>脚本合并</li>
<li>脚本压缩（工具）<br>A. Douglas Crockford 的 JSMin<br>B. Yahoo 的 YUI Compressor<br>C. Google 的 Closure Compiler<div class="footnotes" data-anchor-id="xfa0">

</div></li>
</ol>
</li>
</ul>
<hr>
<p><small><span id="book">[1] </span>学习并参考自《DOM Scripting Web Design with JavaScript and the Document Object Model》</small></p>
<p></p></div><br></div><br></div><br></div><br><p></p>
</div></article></div></section><footer><div class="paginator"><a href="/2015/08/02/q-jquery-window-height-document-height/" class="prev">上一篇</a><a href="/2015/07/20/responsive-web-design-two/" class="next">下一篇</a></div></footer><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "//hm.baidu.com/hm.js?ed77053554825c09d2021287e3a25e51";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script src="https://cdn.bootcss.com/mathjax/2.5.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>